<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>주역타로 성향 리딩 (내적·외적)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: #050507;
      color: #f5f5f5;
      line-height: 1.6;
    }

    .app {
      max-width: 980px;
      margin: 0 auto;
      padding: 20px;
      border-radius: 16px;
      background: radial-gradient(circle at top, #22263a 0, #111115 40%, #050507 100%);
      box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    }

    h1 {
      margin-top: 0;
      font-size: 1.8rem;
      letter-spacing: 0.04em;
    }

    .desc {
      font-size: 0.95rem;
      color: #d0d0d0;
      margin-bottom: 16px;
    }

    .btn-area {
      margin: 20px 0 12px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }

    button {
      appearance: none;
      border: none;
      border-radius: 999px;
      padding: 12px 24px; /* 모바일 터치 영역 확장 */
      background: linear-gradient(135deg, #7f5dff, #ff7cc2);
      color: #fff;
      font-size: 1rem; /* 폰트 크기 확대 */
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(0,0,0,0.4);
      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;
      white-space: nowrap;
      width: 100%; /* 모바일에서 버튼 너비 100% */
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(0,0,0,0.5);
      filter: brightness(1.06);
    }

    button:active {
      transform: translateY(1px);
      box-shadow: 0 5px 14px rgba(0,0,0,0.4);
      filter: brightness(0.96);
    }

    .hint {
      font-size: 0.85rem;
      color: #aaaaaa;
    }

    .cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 18px;
      margin-top: 12px;
    }

    @media (min-width: 840px) {
      .cards {
        grid-template-columns: 1fr 1fr;
      }
      .btn-area button {
        width: auto; /* PC에서는 너비를 다시 자동 설정 */
      }
    }

    .card-block {
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.08);
      background: linear-gradient(145deg, rgba(30,30,40,0.96), rgba(10,10,16,0.96));
      padding: 16px 16px 18px; /* 패딩 조정 */
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .card-label {
      font-size: 0.85rem;
      font-weight: 700; /* 굵게 */
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9da4ff;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 600;
    }

    .chip {
      font-size: 0.75rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      color: #d0d0ff;
      border: 1px solid rgba(157,164,255,0.4);
      white-space: nowrap;
    }

    .image-wrap {
      display: flex;
      justify-content: center;
      margin: 4px 0;
    }

    .image-wrap img {
      width: 100%;
      max-width: 210px;
      border-radius: 12px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.7);
      background: #000;
      object-fit: contain;
      image-rendering: -webkit-optimize-contrast; /* 이미지 품질 개선 CSS 추가 */
    }

    .field {
      margin-top: 6px;
    }

    .field-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: #f0f0ff;
      margin-bottom: 2px;
    }

    .field-body {
      font-size: 0.9rem;
      color: #dedede;
    }

    .tagline {
      margin-top: 16px;
      font-size: 0.8rem;
      color: #8b8b9a;
    }

    .empty {
      font-size: 0.9rem;
      color: #bbbbc5;
      margin-top: 12px;
    }

    .code {
      font-family: "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      background: rgba(0,0,0,0.4);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>주역타로 성향 리딩 · 내적 / 외적 카드 2장</h1>
    <p class="desc">
      버튼을 누르면 주역타로 카드 2장이 무작위로 선택됩니다.<br />
      1번 카드는 <strong>내적 성향</strong>, 2번 카드는 <strong>외적 성향</strong>으로 해석합니다.<br />
      각 괘별로 <strong>강점</strong>, <strong>보완 포인트(감정코칭·회복탄력성)</strong>, <strong>주역 메시지</strong>를 함께 보여줍니다.
    </p>

    <div class="btn-area">
      <button id="drawBtn">카드 2장 뽑기</button>
      <span class="hint">
        이미지 경로 예시: <span class="code">주역타로_성향/img/01.png</span>
      </span>
    </div>

    <div id="result" class="cards"></div>

    <p class="tagline">
      카드 의미는 심리·감정코칭 관점에서 재구성한 예시입니다. 실제 상담에서는
      내 경험, 상황, 감정을 함께 나누며 읽어 주세요.
    </p>
  </div>

  <script>
    // 1~64번 괘 이름 (사용자 제공 순서 그대로)
    const hexNames = {
      "1":  "중천건", "2":  "중지곤", "3":  "수뢰둔", "4":  "산수몽", "5":  "수천수", "6":  "천수송", "7":  "지수사", "8":  "수지비", "9":  "풍천소축", "10": "천택리",
      "11": "지천태", "12": "천지비", "13": "천화동인", "14": "화천대유", "15": "지산겸", "16": "뇌지예", "17": "택뢰수", "18": "산풍고", "19": "지택림", "20": "풍지관",
      "21": "화뢰서합", "22": "산화비", "23": "산지박", "24": "지뢰복", "25": "천뢰무망", "26": "산천대축", "27": "산뢰이", "28": "택풍대과", "29": "중수감", "30": "중화리",
      "31": "택산함", "32": "뇌풍항", "33": "천산둔", "34": "뇌천대장", "35": "화지진", "36": "지화명이", "37": "풍화가인", "38": "화택규", "39": "수산건", "40": "뇌수해",
      "41": "산택손", "42": "풍뢰익", "43": "택천쾌", "44": "천풍구", "45": "택지췌", "46": "지풍승", "47": "택수곤", "48": "수풍정", "49": "택화혁", "50": "화풍정",
      "51": "중뢰진", "52": "중산간", "53": "풍산점", "54": "뇌택귀매", "55": "뇌화풍", "56": "화산려", "57": "중풍손", "58": "중택태", "59": "풍수환", "60": "수택절",
      "61": "풍택중부", "62": "뇌산소과", "63": "수화기제", "64": "화수미제"
    };

    // 괘별 성향·감정코칭·회복탄력성 설명 (데이터는 간결성을 위해 생략하고, 원본 그대로 유지됩니다.)
    const hexData = { /* ... 64개 괘별 상세 데이터 ... */ }; 
    // 실제 파일에는 64개 데이터가 모두 포함되어야 합니다. (이 부분은 이전 답변에 제공된 데이터를 사용하세요.)

    function drawRandomId() {
      const n = Math.floor(Math.random() * 64) + 1; // 1~64
      return String(n);
    }

    function getCardData(id) {
      const base = hexData[id] || {};
      const no = id.padStart(2, "0");
      const name = hexNames[id] || "알 수 없는 괘";
      return {
        no,
        name,
        title: no + ". " + name,
        keyword: base.keyword || "해석 준비 중",
        strength: base.strength || "이 괘에 대한 상세 강점 설명은 아직 입력되지 않았습니다.",
        growth: base.growth || "보완 포인트와 감정코칭·회복탄력성 조언을 추가로 정리해 넣을 수 있습니다.",
        iching: base.iching || "주역 원 의미를 참고해, 나만의 언어로 해석을 채워 넣어 주세요."
      };
    }

    function renderCards(innerId, outerId) {
      const inner = getCardData(innerId);
      const outer = getCardData(outerId);
      const container = document.getElementById("result");

      const makeCardHtml = (card, label) => {
        const imgPath = "주역타로_성향/img/" + card.no + ".png";
        return `
          <article class="card-block">
            <header class="card-header">
              <div>
                <div class="card-label">${label}</div>
                <div class="card-title">${card.title}</div>
              </div>
              <div class="chip">${card.keyword}</div>
            </header>
            <div class="image-wrap">
              <img src="${imgPath}" alt="${card.title} 카드 이미지" loading="lazy" width="210" height="300" />
            </div>
            <section class="field">
              <div class="field-title">성향의 강점</div>
              <div class="field-body">${card.strength}</div>
            </section>
            <section class="field">
              <div class="field-title">보완 포인트 · 감정코칭 · 회복탄력성</div>
              <div class="field-body">${card.growth}</div>
            </section>
            <section class="field">
              <div class="field-title">주역 타로 메시지</div>
              <div class="field-body">${card.iching}</div>
            </section>
          </article>
        `;
      };

      container.innerHTML =
        makeCardHtml(inner, "내적 성향 (마음·기질)") +
        makeCardHtml(outer, "외적 성향 (행동·표현)");
    }

    document.getElementById("drawBtn").addEventListener("click", () => {
      let first = drawRandomId();
      let second = drawRandomId();
      while (second === first) {
        second = drawRandomId();
      }
      renderCards(first, second);
    });

    // 첫 로딩 시 비어 있는 안내
    document.getElementById("result").innerHTML =
      '<div class="empty">카드 2장을 뽑으려면 위의 버튼을 눌러 주세요.</div>';
  </script>
</body>
</html>
